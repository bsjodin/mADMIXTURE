multi_admixture is a shell script for running ADMIXTURE across a range of k and/or over multiple iterations in a single command. It creates a set of organized directories
based upon the chosen options (ie, using multiple k or iterations). This still requires ADMIXTURE to be installed, as ADMIXTURE is still doing all the heavy lifting.
All arguments that can be passed to the standalone ADMIXTURE program can be supplied through this program as well. Please reference the ADMIXTURE manual for detailed descriptions
of these arguments. If you have any questions/concerns/recommodations for improvement, please contact me bryson.sjodin@ubc.ca.

NOTE: ADMIXTURE must be installed prior to running this script!

Before use, you must first change the file permissions:
	chmod a+rx multi_admixture

Then, you must copy this script into a PATH directory (eg. /usr/local/bin). This an be accomplished in terminal with:
	sudo cp multi_admixture /path/to/directory/

Alternatively, you can add the directory where this script is saved to your PATH variable in terminal with:
	cd ~
	nano .bash_profile OR nano .bashrc #(depending on your operating system)
Scroll to the very end of the file and add the line
	export PATH=/path/to/directory:$PATH
Save and exit using Ctrl+c. Next type into terminal:
	source .bash_profile OR source .bashrc #(depending on which you used earlier)

If neither of the above work, you can simply run the program with "bash multi_admixture ..."

OUTPUTS:
If multiple iterations are specified, the results will be split into separate directories labeled "run_1, run_2, etc". If a range of K is specified, the ADMIXTURE outputs will be
sorted based on their extension to separate directories (ie, .Q files will be moved to the directory Q_outs, .P files to P_outs, and log files to logs). This makes it easier to
sort through files when many k or iterations are performed.

USAGE: mutli_admixture [-f filename.ped] [-k int] [optional arguments]

REQUIRED ARGUMENTS:
-f|--file <filename>  : Input PLINK file with extension (must be in current working directory).
-k|--minK <int>       : Minimum k. If -K is not used, this will be the only k tested.

OPTIONAL ARGUMENTS:
-K|--maxK <int>       : Maximum k. Optional. This must be larger than -k
-i|--iterations <int> : Number of iterations. If not set, default is 1.
-j|--threads <int>    : Enables multi-threaded mode use n threads.
-cv <float/int>       : Enables cross-validation and sets the threshold. If no value is given with the -cv flag, threshold defaults to 10.
-B|--bootstraps <int> : Enables bootstrapping and specifies number of replicates.
-S|--supervised       : Enables supervised mode. Must include a .pop file (see ADMIXTURE manual for details).
-P|--projection       : Enables projection analysis. Must include a reference .P file (see ADMIXTURE manual for details).
-s|--seed <int/str>   : Sets the random seed. If no value is given with the -s flag, defaults to \$RANDOM).
-EM|--algorithm       : Use EM algorithm instead of block-relaxation.
-C|--majC <float/int> : Sets the major termination criterion.
-c|--minC <float/int> : Sets the minor termination criterion.
-a|--accel <str>      : Changes the acceleration method used (see ADMIXTURE manual for options).
-e|--epsilon <float>  : Enables penalized estimation and sets epsilon (must be less than 1).
-l|--lambda <float>   : Enables penalized estimation and sets lambda.
--haploid             : Use haploid data (default is diploid).
--help                : Displays help message.